{# if the request for this page was not made through ajax, inherit the template that displays the whole schools page #}
{% extends 'school/school2.html.twig' %}

{% block teachers_menuitem %} active {% endblock %} {# Cause the menu item for this page to be active#}

{% set emisCode = app.request.attributes.get('_route_params')['emisCode'] %} {# get the emisCode from the Route#}
{% set schoolInfo = app.session.get('schoolInfo') %}

{% block school_info %}
    <div class="row">
            <p class="text-center"><a href="{{ path('school_return') }}" class="btn btn-sm" id="add_rc"><i class="fa fa-plus fa-lg"></i> &nbsp; Choose Another School</a></p>
        </div>
        <div class="row" align="center">        
            <h4><b>{{schoolInfo.school_name}} ({{ schoolInfo.emiscode }}) | 
                    {{schoolInfo.zone_name}} zone ({{ schoolInfo.idzone }})| {{schoolInfo.district_name}} | 
                    {{schoolInfo.address}} </b></h4>
        </div>        
{% endblock %}
{% block content %}
	<div class="row">
		<div class="col-sm-6">
			{# embed the controller that returns the form for selecting existing teachers #}
			{{ render(controller('AppBundle:School:findTeacherForm',{"emisCode":emisCode}))}}
		</div>
		<div class="col-sm-6">
			<p class="text-right"><a href="{{ path('add_teacher',{"emisCode":emisCode, "teacherId": "new"}) }}" class="btn btn-sm" id="add_teacher"><i class="fa fa-plus fa-lg"></i> &nbsp; Add New Teacher</a></p>
		</div>
	</div>
	<hr>
	<div class="row">
		<div class="col-sm-12">
			{% block form_container %}{% endblock %}
		</div>
	</div>
{% endblock %}